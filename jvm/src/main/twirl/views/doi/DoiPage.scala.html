@import views.html.CpCommonPage

@(isAdmin: Boolean, jsFastOpt: Boolean = false, cpauthHost: String)
@CpCommonPage("Carbon Portal's DOI minting service", cpauthHostOpt = Some(cpauthHost)){
	<style type="text/css">
		@@media all and (max-width: 991px) {
			.spacyrow{
				margin-top: 15px;
				margin-bottom: 15px;
			}
		}
		span.label{
			font-size: 100%;
			color: #000;
		}
	</style>
}{
	<div class = "page-header">
		<h1>Carbon Portal DOI minting service</h1>
	</div>

	<div class="panel panel-info">
		<div class="panel-body">
			<p><b>Due to recent breaking change of DataCite's services, this service is only useable by administrators (@adminStatus)</b></p>
			<p>DOI entries are created directly in production, with ICOS prefix <span class="label label-info">10.18160</span>, as findable DataCite DOIs.</p>
			<div style="text-decoration: line-through">
				<p>The workflow is designed as follows. Create a new entry or clone an existing one, edit, set DOI URL target, ask a DOI administrator from CP to publish it to 10.18160. To update metadata of a published DOI, repeat the workflow, starting from cloning the entry.</p>
				<p>Publishing or modifying the &quot;official&quot; ICOS DOI entries (with prefix 10.18160) is only permitted to CP DOI admins (@adminStatus)</p>
			</div>
			<p><strong>Logging in with Carbon Portal is required for any write operations to work.</strong></p>
		</div>
	</div>

	<div id="main">
	</div>
	<script src="doi-js-@{if(jsFastOpt) "fast" else ""}opt.js"></script>

}

@adminStatus = @{
	if(isAdmin) "you are one" else "you are not one at the moment"
}