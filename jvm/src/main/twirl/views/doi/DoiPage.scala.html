@import views.html.CpCommonPage
@import se.lu.nateko.cp.cpauth.core.UserId

@(uid: Option[UserId], jsFastOpt: Boolean = false)
@CpCommonPage("Carbon Portal's DOI minting service"){
	<style type="text/css">
		@@media all and (max-width: 991px) {
			.spacyrow{
				margin-top: 15px;
				margin-bottom: 15px;
			}
		}
	</style>
}{
	<div class = "page-header">
		<div class="pull-right">
			@uid match {
				case None => {
					<a href="https://cpauth.icos-cp.eu/login/?targetUrl=https://doi.icos-cp.eu/">Log in</a>
				}
				case Some(userId) => {
					<span>Logged in as @(userId.email)</span>
				}
			}
		</div>
		<h1>Carbon Portal DOI minting service</h1>
	</div>

	<div class="panel panel-info">
		<div class="panel-body">
			<p>The service is in a test mode at the moment, using test prefix 10.5072 instead of real ICOS prefix 10.18160. The entries are going to be purged periodically by DataCite.</p>
			<p>Users are invited to test the service, keeping in mind that the entries will eventually be lost.</p>
			<p>Logging in with Carbon Portal is required for write operations to work.</p>
		</div>
	</div>

	<div id="main">
	</div>
	<script src="doi-js-@{if(jsFastOpt) "fast" else ""}opt.js"></script>

	<script type="text/javascript">
			se.lu.nateko.cp.doi.gui.DoiApp().main();
	</script>
}

