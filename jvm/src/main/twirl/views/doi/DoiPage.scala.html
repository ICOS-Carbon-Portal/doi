@import views.html.CpCommonPage
@import eu.icoscp.envri.Envri

@(isLoggedIn: Boolean, isAdmin: Boolean, isDevelopment: Boolean = false, authHost: String, doiSuffix: Option[String] = None)(implicit env: Envri)
@CpCommonPage(s"${devIcon}${pageTitle}"){
	<link rel="stylesheet" type="text/css" href="/styles.css">
}{
	<div id="main-wrapper" class="container-xxl @isAdminClass @isLoggedInClass" data-permissions="@permissions" data-development="@isDevelopment" data-envri="@env.shortName">
		<div class="row">
			<div class="col">
				<div class="page-header">
					<h1>DOI minting</h1>
				</div>
			</div>
		</div>

		<div class="row">
			<div class="col">
				<p>@permissions</p>
			</div>
		</div>

		<hr>

		<div class="row">
			<div class="col">
				<div id="list-wrapper"></div>
			</div>
		</div>
	</div>


	<script src="/doi-js-@{if(isDevelopment) "fast" else ""}opt.js"></script>

}

@permissions = @{
	if(isAdmin)
		"As an admin, you can create, update, and delete draft and published DOIs."
	else if(isLoggedIn)
		"You can create draft DOIs and submit them for publication. We will review your submission before publishing the DOI. You can also clone an existing DOI to update it after it has been published."
	else
		loginText
}

@loginText = {
	Please <a href='https://@{authHost}'>log in</a> to create or update DOIs.
}

@isAdminClass = @{
	if(isAdmin) "is-admin" else "is-not-admin"
}

@isLoggedInClass = @{
	if(isLoggedIn) "is-logged-in" else "is-anonymous"
}

@devIcon = @{
	if(isDevelopment) "ðŸš§ " else ""
}

@pageTitle = @{
	doiSuffix.getOrElse("DOI minting")
}

